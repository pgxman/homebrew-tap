# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Pgxman < Formula
  desc "PostgreSQL Extensions Manager"
  homepage "https://github.com/pgxman/pgxman"
  version "0.0.25"
  license "Apache 2.0"

  depends_on "git"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/pgxman/release/releases/download/v0.0.25/pgxman_darwin_amd64.tar.gz"
      sha256 "7497d2cb8dcc71e1a5eac4a81b75e93f35aed1e0472da3032bf89378a69951c7"

      def install
        bin.install "bin/pgxman"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/pgxman/release/releases/download/v0.0.25/pgxman_darwin_arm64.tar.gz"
      sha256 "d927ac5f3fe674082d09fa675949d3f782a1f73f2aec6803eae7814384901dcf"

      def install
        bin.install "bin/pgxman"
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
      url "https://github.com/pgxman/release/releases/download/v0.0.25/pgxman_linux_armv6.tar.gz"
      sha256 "28481a4ca55f9117ec79ec62ff9e2ae0503c5ae12b365ea1a2ea76f4d020508a"

      def install
        bin.install "bin/pgxman"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/pgxman/release/releases/download/v0.0.25/pgxman_linux_amd64.tar.gz"
      sha256 "1fc9cc839b949db8e8a9bab314c22f422c3126a380668b2a641b2ef63efd1e3b"

      def install
        bin.install "bin/pgxman"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/pgxman/release/releases/download/v0.0.25/pgxman_linux_arm64.tar.gz"
      sha256 "96178508842b6a472aa1429b9a5de5ecf69dd0600ca247eab16628f93215ed98"

      def install
        bin.install "bin/pgxman"
      end
    end
  end

  head "https://github.com/pgxman/pgxman.git"

  test do
    assert_match(/pgxman version/, shell_output("#{bin}/pgxman --version"))
  end
end
