# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Pgxman < Formula
  desc "PostgreSQL Extensions Manager"
  homepage "https://github.com/pgxman/pgxman"
  version "0.0.32"
  license "Apache 2.0"

  depends_on "git"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/pgxman/release/releases/download/v0.0.32/pgxman_darwin_arm64.tar.gz"
      sha256 "64049cd8770dcad37378efc17cc897084a3ff0b809f6b25a731f2c02c9ea1d15"

      def install
        bin.install "bin/pgxman"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/pgxman/release/releases/download/v0.0.32/pgxman_darwin_amd64.tar.gz"
      sha256 "77c040725443765707a37a9e3311218e0cf526c6106b36bfd3611f38be2f8696"

      def install
        bin.install "bin/pgxman"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel?
      url "https://github.com/pgxman/release/releases/download/v0.0.32/pgxman_linux_amd64.tar.gz"
      sha256 "4f1e06dddf4484c34e380418fbed9e1edcdaa16d2f48ff2b43a83ed04e43f93d"

      def install
        bin.install "bin/pgxman"
      end
    end
    if Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
      url "https://github.com/pgxman/release/releases/download/v0.0.32/pgxman_linux_armv6.tar.gz"
      sha256 "caad5ec289f1ac1cd8be95e07215b16307b62917500526a3d1ed17d07b25b6af"

      def install
        bin.install "bin/pgxman"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/pgxman/release/releases/download/v0.0.32/pgxman_linux_arm64.tar.gz"
      sha256 "a93718bd432f3ceb169c3d31aecea9b6e60b8deefe6bb69453cbbc90ae9daca0"

      def install
        bin.install "bin/pgxman"
      end
    end
  end

  head "https://github.com/pgxman/pgxman.git"

  test do
    assert_match(/pgxman version/, shell_output("#{bin}/pgxman --version"))
  end
end
