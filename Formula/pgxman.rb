# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Pgxman < Formula
  desc "PostgreSQL Extensions Manager"
  homepage "https://github.com/pgxman/pgxman"
  version "0.0.7"
  license "Apache 2.0"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/pgxman/pgxman/releases/download/v0.0.7/pgxman_darwin_arm64.tar.gz"
      sha256 "fffa33f0141b02b1c6440c11d52e22f267505badeec010b00a1fd97a764eb4a5"

      def install
        bin.install "bin/pgxman"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/pgxman/pgxman/releases/download/v0.0.7/pgxman_darwin_amd64.tar.gz"
      sha256 "3e2db93261ad065b6742d2ea1c0af74b25b4a585000e797ff3c049c03345c2b4"

      def install
        bin.install "bin/pgxman"
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
      url "https://github.com/pgxman/pgxman/releases/download/v0.0.7/pgxman_linux_arm.tar.gz"
      sha256 "49266a88f3d8138f7faa22f1c04b4c6f0a73338912f7632112f403f682147eaf"

      def install
        bin.install "bin/pgxman"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/pgxman/pgxman/releases/download/v0.0.7/pgxman_linux_arm64.tar.gz"
      sha256 "6ef973d4fa4f6db89ebd96d2f4eee49ce207f50c0dfadd59ce88ea2a54aa6336"

      def install
        bin.install "bin/pgxman"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/pgxman/pgxman/releases/download/v0.0.7/pgxman_linux_amd64.tar.gz"
      sha256 "f80c9b436b49cfecb8f6624742bfb51cda1aacf329ff8f0ea45832e4ecbeb553"

      def install
        bin.install "bin/pgxman"
      end
    end
  end

  head "https://github.com/pgxman/pgxman.git"

  test do
    assert_match(/pgxman version/, shell_output("#{bin}/pgxman --version"))
  end
end
