# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Pgxman < Formula
  desc "PostgreSQL Extensions Manager"
  homepage "https://github.com/pgxman/pgxman"
  version "1.2.3"
  license "Apache 2.0"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/pgxman/pgxman/releases/download/v1.2.3/pgxman_darwin_arm64.tar.gz"
      sha256 "39fd3712b2452ffdf22f3adecd037f5003d1d3973d3ebc9574ceaf71af755812"

      def install
        bin.install "bin/pgxman"
        man1.install Dir["docs/man/man1/pgxman*.1"]
        generate_completions_from_executable(bin/"pgxman", "completion")
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/pgxman/pgxman/releases/download/v1.2.3/pgxman_darwin_amd64.tar.gz"
      sha256 "36d750cb558e7943a20e3679dba6813e3b287e16fcca65d1cfc12c2c5916c18b"

      def install
        bin.install "bin/pgxman"
        man1.install Dir["docs/man/man1/pgxman*.1"]
        generate_completions_from_executable(bin/"pgxman", "completion")
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel?
      url "https://github.com/pgxman/pgxman/releases/download/v1.2.3/pgxman_linux_amd64.tar.gz"
      sha256 "e4240344ae6e3e2af4a21a9848b5cf0239a65a710e2c54d89af9a7a9012e01b6"

      def install
        bin.install "bin/pgxman"
        man1.install Dir["docs/man/man1/pgxman*.1"]
        generate_completions_from_executable(bin/"pgxman", "completion")
      end
    end
    if Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
      url "https://github.com/pgxman/pgxman/releases/download/v1.2.3/pgxman_linux_armv6.tar.gz"
      sha256 "372bd637a04b725c78ebeba08b64127143d8d06724d3373aace8bc00b92c4921"

      def install
        bin.install "bin/pgxman"
        man1.install Dir["docs/man/man1/pgxman*.1"]
        generate_completions_from_executable(bin/"pgxman", "completion")
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/pgxman/pgxman/releases/download/v1.2.3/pgxman_linux_arm64.tar.gz"
      sha256 "1de30e984c5f6be60d54f7868319ff5524c2f37f3010388f8c9c8e28e10a3980"

      def install
        bin.install "bin/pgxman"
        man1.install Dir["docs/man/man1/pgxman*.1"]
        generate_completions_from_executable(bin/"pgxman", "completion")
      end
    end
  end

  head "https://github.com/pgxman/pgxman.git"

  test do
    assert_match(/pgxman version/, shell_output("#{bin}/pgxman --version"))
  end
end
