# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Pgxman < Formula
  desc "PostgreSQL Extensions Manager"
  homepage "https://github.com/pgxman/pgxman"
  version "1.4.0"
  license "Apache 2.0"

  on_macos do
    on_intel do
      url "https://github.com/pgxman/pgxman/releases/download/v1.4.0/pgxman_darwin_amd64.tar.gz"
      sha256 "1e8d15dfc3436d8414eaa4352d0347234846096681d5d6b50600463173310577"

      def install
        bin.install "bin/pgxman"
        man1.install Dir["docs/man/man1/pgxman*.1"]
        generate_completions_from_executable(bin/"pgxman", "completion")
      end
    end
    on_arm do
      url "https://github.com/pgxman/pgxman/releases/download/v1.4.0/pgxman_darwin_arm64.tar.gz"
      sha256 "28c4c53eee37c7f36995b397ceac49f25747277611be384a3567394527c4cd87"

      def install
        bin.install "bin/pgxman"
        man1.install Dir["docs/man/man1/pgxman*.1"]
        generate_completions_from_executable(bin/"pgxman", "completion")
      end
    end
  end

  on_linux do
    on_intel do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/pgxman/pgxman/releases/download/v1.4.0/pgxman_linux_amd64.tar.gz"
        sha256 "d0d32d7eb4cced814e029e01bf9c7d98eefb463c8d0ede68e53f58e7f208a4ee"

        def install
          bin.install "bin/pgxman"
          man1.install Dir["docs/man/man1/pgxman*.1"]
          generate_completions_from_executable(bin/"pgxman", "completion")
        end
      end
    end
    on_arm do
      if !Hardware::CPU.is_64_bit?
        url "https://github.com/pgxman/pgxman/releases/download/v1.4.0/pgxman_linux_armv6.tar.gz"
        sha256 "45f494e8bfd05330e7118484ae9eb65b32d7d8eb96f3797784db92808b34d0fe"

        def install
          bin.install "bin/pgxman"
          man1.install Dir["docs/man/man1/pgxman*.1"]
          generate_completions_from_executable(bin/"pgxman", "completion")
        end
      end
    end
    on_arm do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/pgxman/pgxman/releases/download/v1.4.0/pgxman_linux_arm64.tar.gz"
        sha256 "d108c772e2e92998d2e6531546f5eff501418cc149dbeb4a7a2f16eaba6809ea"

        def install
          bin.install "bin/pgxman"
          man1.install Dir["docs/man/man1/pgxman*.1"]
          generate_completions_from_executable(bin/"pgxman", "completion")
        end
      end
    end
  end

  head "https://github.com/pgxman/pgxman.git"

  test do
    assert_match(/pgxman version/, shell_output("#{bin}/pgxman --version"))
  end
end
